
<meta charset="utf-8">
<title>English</title>

<link href="style.css" rel="stylesheet">

<script src="jquery.min.js"></script>
		
<script>

	var previous = -1; 
	var hasRightClicked = false; // already right clicked

	function rn() { // random number
		// range [1, 8] inclusive
		// (1, 2, 3, 4) add
		// (5, 6, 7, 8) subtract
		return (Math.floor(Math.random() * 8) + 1); 
	}

	function roll(isRight) {
		var val = previous; 
		if (isRight) {			
			val = 2; 
		} else {
			while (val == previous) {
				val = rn(); 
			}
		}

		$('#paragraph').html(val); 
		previous = val; 

		if (val <= 4) { // add
			$('#success').css('visibility', 'visible'); 
			$('#failure').css('visibility', 'hidden');
			$('.wrapper').css('background', '#4CAF50');
		} else { // subtract
			$('#success').css('visibility', 'hidden'); 
			$('#failure').css('visibility', 'visible');
			$('.wrapper').css('background', '#F44336');
		}
	}


	$(document).mousedown(function(event) {
	    switch (event.which) {
	        case 1: // left
	            roll(false); 			           
	            break;
	        case 3: // right 
	            roll(!hasRightClicked); 
	            hasRightClicked = true;
	            break;
	    }
	});

</script>

<div class="wrapper" oncontextmenu="return false">

	<div id="success" class="result">
		<p>↑</p>
	</div>

	<p id="paragraph">?</p>

	<div id="failure" class="result">
		<p>↓</p>
	</div>

</div>
